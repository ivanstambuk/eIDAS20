# Requirements Configuration

This directory contains configuration and data for the Unified Requirements Browser (`/requirements` route).

## Files

| File | Description |
|------|-------------|
| `sources.json` | Metadata for all requirements sources, roles, categories, and compliance levels |
| `arf-hlr.json` | Imported ARF High-Level Requirements (559 requirements) |

## sources.json Schema

### Sources

Defines requirement sources with loading configuration:

```json
{
  "sources": {
    "arf-hlr": {
      "id": "arf-hlr",
      "name": "ARF High-Level Requirements",
      "shortName": "ARF HLRs",
      "description": "...",
      "icon": "ğŸ“",
      "color": "#3B82F6",
      "authority": "European Commission",
      "dataFile": "arf-hlr.json"
    },
    "rca": { ... },
    "vcq": { ... }
  }
}
```

### Roles

Maps role IDs to display labels and icons:

```json
{
  "roles": {
    "wallet_provider": { "label": "Wallet Provider", "icon": "ğŸ“±" },
    "relying_party": { "label": "Relying Party", "icon": "ğŸ¢" },
    ...
  }
}
```

### Categories

Defines requirement categories:

```json
{
  "categories": {
    "security": { "label": "Security", "icon": "ğŸ”’" },
    "privacy": { "label": "Privacy", "icon": "ğŸ”" },
    ...
  }
}
```

### Compliance Levels

Defines mandatory/recommended/optional with colors:

```json
{
  "complianceLevels": {
    "mandatory": { "label": "Mandatory", "icon": "âš ï¸", "color": "#EF4444" },
    "recommended": { "label": "Recommended", "icon": "ğŸ’¡", "color": "#F59E0B" },
    "optional": { "label": "Optional", "icon": "â„¹ï¸", "color": "#6B7280" }
  }
}
```

## arf-hlr.json Schema

Generated by `scripts/import-arf-hlr.js` from the ARF CSV export:

```json
{
  "$schema": "./arf-hlr.schema.json",
  "metadata": {
    "generated": "2026-01-23T...",
    "sourceUrl": "https://github.com/eu-digital-identity-wallet/...",
    "totalRequirements": 559
  },
  "requirements": [
    {
      "id": "WTE_01",
      "harmonizedId": "HLR-WTE-01.01",
      "source": "arf-hlr",
      "category": "wallet-provider",
      "requirement": "The Wallet Solution SHALL...",
      "notes": "Additional context...",
      "roles": ["wallet_provider"],
      "complianceLevel": "mandatory",
      "criticality": "critical",
      "arfTopic": {
        "number": 9,
        "title": "Wallet Trust Evidence"
      },
      "arfLink": "https://github.com/..."
    }
  ]
}
```

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ARF GitHub     â”‚â”€â”€â”€â”€â–¶â”‚ import-arf-hlr.js â”‚
â”‚  (CSV export)   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   arf-hlr.json         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ config/rca/     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ requirements/   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ config/vcq/     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ requirements/   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  useRequirements.js    â”‚
                    â”‚  (loads + filters)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  RequirementsBrowser   â”‚
                    â”‚  (1084 requirements)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Updating ARF HLRs

To re-import from the ARF GitHub:

```bash
cd docs-portal
node scripts/import-arf-hlr.js
cp config/requirements/arf-hlr.json public/config/requirements/
```

## Related Files

- `src/hooks/useRequirements.js` â€” Data loading and filtering logic
- `src/pages/RequirementsBrowser.jsx` â€” Main page component
- `src/components/requirements/` â€” Filter, table, and detail components
- `public/config/` â€” Runtime copies of config files
